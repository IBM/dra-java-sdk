<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DrAutomationService.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">drautomation service</a> &gt; <a href="index.source.html" class="el_package">com.ibm.cloud.drautomation_sdk.dr_automation_service.v1</a> &gt; <span class="el_source">DrAutomationService.java</span></div><h1>DrAutomationService.java</h1><pre class="source lang-java linenums">/*
 * (C) Copyright IBM Corp. 2025.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on
 * an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations under the License.
 */

/*
 * IBM OpenAPI SDK Code Generator Version: 3.108.0-56772134-20251111-102802
 */

package com.ibm.cloud.drautomation_sdk.dr_automation_service.v1;

import com.google.gson.JsonObject;
import com.ibm.cloud.drautomation_sdk.common.SdkCommon;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.CreateManageDrOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.DrAutomationGetSummaryResponse;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.DrData;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.Event;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.EventCollection;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetDrGrsLocationPairOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetDrLocationsOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetDrLocationsResponse;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetDrManagedVmOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetDrSummaryOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetEventOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetGRSLocationPairResponse;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetLastOperationOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetMachineTypeOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.GetPowervsWorkspacesOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.ListEventsOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.MachineTypesByWorkspace;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.ManagedVmMapResponse;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.ServiceInstanceManageDR;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.ServiceInstanceStatus;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.UpdateApikeyOptions;
import com.ibm.cloud.drautomation_sdk.dr_automation_service.v1.model.ValidationKeyResponse;
import com.ibm.cloud.sdk.core.http.RequestBuilder;
import com.ibm.cloud.sdk.core.http.ResponseConverter;
import com.ibm.cloud.sdk.core.http.ServiceCall;
import com.ibm.cloud.sdk.core.security.Authenticator;
import com.ibm.cloud.sdk.core.security.ConfigBasedAuthenticatorFactory;
import com.ibm.cloud.sdk.core.service.BaseService;
import com.ibm.cloud.sdk.core.util.ResponseConverterUtils;
import java.util.HashMap;
import java.util.Map;
import java.util.Map.Entry;

/**
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator).
 *
 * API Version: 0.0.1
 */
public class DrAutomationService extends BaseService {

  /**
   * Default service name used when configuring the `DrAutomationService` client.
   */
  public static final String DEFAULT_SERVICE_NAME = &quot;dr_automation_service&quot;;

  /**
   * Default service endpoint URL.
   */
  public static final String DEFAULT_SERVICE_URL = &quot;https://power-dra.cloud.ibm.com&quot;;

 /**
   * Class method which constructs an instance of the `DrAutomationService` client.
   * The default service name is used to configure the client instance.
   *
   * @return an instance of the `DrAutomationService` client using external configuration
   */
  public static DrAutomationService newInstance() {
<span class="nc" id="L79">    return newInstance(DEFAULT_SERVICE_NAME);</span>
  }

  /**
   * Class method which constructs an instance of the `DrAutomationService` client.
   * The specified service name is used to configure the client instance.
   *
   * @param serviceName the service name to be used when configuring the client instance
   * @return an instance of the `DrAutomationService` client using external configuration
   */
  public static DrAutomationService newInstance(String serviceName) {
<span class="fc" id="L90">    Authenticator authenticator = ConfigBasedAuthenticatorFactory.getAuthenticator(serviceName);</span>
<span class="fc" id="L91">    DrAutomationService service = new DrAutomationService(serviceName, authenticator);</span>
<span class="fc" id="L92">    service.configureService(serviceName);</span>
<span class="fc" id="L93">    return service;</span>
  }

  /**
   * Constructs an instance of the `DrAutomationService` client.
   * The specified service name and authenticator are used to configure the client instance.
   *
   * @param serviceName the service name to be used when configuring the client instance
   * @param authenticator the {@link Authenticator} instance to be configured for this client
   */
  public DrAutomationService(String serviceName, Authenticator authenticator) {
<span class="fc" id="L104">    super(serviceName, authenticator);</span>
<span class="fc" id="L105">    setServiceUrl(DEFAULT_SERVICE_URL);</span>
<span class="fc" id="L106">  }</span>

  /**
   * Updates the API key for the specified service instance.
   *
   * Updating the current API key details for the specified service instance.
   *
   * @param updateApikeyOptions the {@link UpdateApikeyOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link ValidationKeyResponse}
   */
  public ServiceCall&lt;ValidationKeyResponse&gt; updateApikey(UpdateApikeyOptions updateApikeyOptions) {
<span class="fc" id="L117">    com.ibm.cloud.sdk.core.util.Validator.notNull(updateApikeyOptions,</span>
      &quot;updateApikeyOptions cannot be null&quot;);
<span class="fc" id="L119">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L120">    pathParamsMap.put(&quot;instance_id&quot;, updateApikeyOptions.instanceId());</span>
<span class="fc" id="L121">    RequestBuilder builder = RequestBuilder.put(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/apikey/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L122">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;updateApikey&quot;);</span>
<span class="fc bfc" id="L123" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L124">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L125">    }</span>
<span class="fc" id="L126">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L127" title="1 of 2 branches missed.">    if (updateApikeyOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L128">      builder.header(&quot;Accept-Language&quot;, updateApikeyOptions.acceptLanguage());</span>
    }
<span class="fc" id="L130">    final JsonObject contentJson = new JsonObject();</span>
<span class="fc" id="L131">    contentJson.addProperty(&quot;api_key&quot;, updateApikeyOptions.apiKey());</span>
<span class="fc" id="L132">    builder.bodyJson(contentJson);</span>
<span class="fc" id="L133">    ResponseConverter&lt;ValidationKeyResponse&gt; responseConverter =</span>
<span class="fc" id="L134">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;ValidationKeyResponse&gt;() { }.getType());</span>
<span class="fc" id="L135">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * Get GRS location pairs based on managed vms.
   *
   * Retrieves the (GRS) location pairs associated with the specified service instance based on managed VMs.
   *
   * @param getDrGrsLocationPairOptions the {@link GetDrGrsLocationPairOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link GetGRSLocationPairResponse}
   */
  public ServiceCall&lt;GetGRSLocationPairResponse&gt; getDrGrsLocationPair(GetDrGrsLocationPairOptions getDrGrsLocationPairOptions) {
<span class="fc" id="L147">    com.ibm.cloud.sdk.core.util.Validator.notNull(getDrGrsLocationPairOptions,</span>
      &quot;getDrGrsLocationPairOptions cannot be null&quot;);
<span class="fc" id="L149">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L150">    pathParamsMap.put(&quot;instance_id&quot;, getDrGrsLocationPairOptions.instanceId());</span>
<span class="fc" id="L151">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/dr_grs_location_pairs/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L152">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;getDrGrsLocationPair&quot;);</span>
<span class="fc bfc" id="L153" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L154">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L155">    }</span>
<span class="fc" id="L156">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L157" title="1 of 2 branches missed.">    if (getDrGrsLocationPairOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L158">      builder.header(&quot;Accept-Language&quot;, getDrGrsLocationPairOptions.acceptLanguage());</span>
    }
<span class="fc" id="L160">    ResponseConverter&lt;GetGRSLocationPairResponse&gt; responseConverter =</span>
<span class="fc" id="L161">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;GetGRSLocationPairResponse&gt;() { }.getType());</span>
<span class="fc" id="L162">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * Get Disaster recovery locations.
   *
   * Retrieves the list of disaster recovery (DR) locations available for the specified service instance.
   *
   * @param getDrLocationsOptions the {@link GetDrLocationsOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link GetDrLocationsResponse}
   */
  public ServiceCall&lt;GetDrLocationsResponse&gt; getDrLocations(GetDrLocationsOptions getDrLocationsOptions) {
<span class="fc" id="L174">    com.ibm.cloud.sdk.core.util.Validator.notNull(getDrLocationsOptions,</span>
      &quot;getDrLocationsOptions cannot be null&quot;);
<span class="fc" id="L176">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L177">    pathParamsMap.put(&quot;instance_id&quot;, getDrLocationsOptions.instanceId());</span>
<span class="fc" id="L178">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/dr_locations/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L179">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;getDrLocations&quot;);</span>
<span class="fc bfc" id="L180" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L181">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L182">    }</span>
<span class="fc" id="L183">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L184" title="1 of 2 branches missed.">    if (getDrLocationsOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L185">      builder.header(&quot;Accept-Language&quot;, getDrLocationsOptions.acceptLanguage());</span>
    }
<span class="fc" id="L187">    ResponseConverter&lt;GetDrLocationsResponse&gt; responseConverter =</span>
<span class="fc" id="L188">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;GetDrLocationsResponse&gt;() { }.getType());</span>
<span class="fc" id="L189">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * Get managed vms for the instance.
   *
   * Retrieves the list of disaster recovery (DR) managed virtual machines for the specified service instance.
   *
   * @param getDrManagedVmOptions the {@link GetDrManagedVmOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link ManagedVmMapResponse}
   */
  public ServiceCall&lt;ManagedVmMapResponse&gt; getDrManagedVm(GetDrManagedVmOptions getDrManagedVmOptions) {
<span class="fc" id="L201">    com.ibm.cloud.sdk.core.util.Validator.notNull(getDrManagedVmOptions,</span>
      &quot;getDrManagedVmOptions cannot be null&quot;);
<span class="fc" id="L203">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L204">    pathParamsMap.put(&quot;instance_id&quot;, getDrManagedVmOptions.instanceId());</span>
<span class="fc" id="L205">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/dr_managed_vms/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L206">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;getDrManagedVm&quot;);</span>
<span class="fc bfc" id="L207" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L208">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L209">    }</span>
<span class="fc" id="L210">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L211" title="1 of 2 branches missed.">    if (getDrManagedVmOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L212">      builder.header(&quot;Accept-Language&quot;, getDrManagedVmOptions.acceptLanguage());</span>
    }
<span class="fc" id="L214">    ResponseConverter&lt;ManagedVmMapResponse&gt; responseConverter =</span>
<span class="fc" id="L215">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;ManagedVmMapResponse&gt;() { }.getType());</span>
<span class="fc" id="L216">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * Disaster recovery deployment details.
   *
   * Retrieves the disaster recovery (DR) summary details for the specified service instance, including key
   * configuration, status information and managed vm details.
   *
   * @param getDrSummaryOptions the {@link GetDrSummaryOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link DrAutomationGetSummaryResponse}
   */
  public ServiceCall&lt;DrAutomationGetSummaryResponse&gt; getDrSummary(GetDrSummaryOptions getDrSummaryOptions) {
<span class="fc" id="L229">    com.ibm.cloud.sdk.core.util.Validator.notNull(getDrSummaryOptions,</span>
      &quot;getDrSummaryOptions cannot be null&quot;);
<span class="fc" id="L231">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L232">    pathParamsMap.put(&quot;instance_id&quot;, getDrSummaryOptions.instanceId());</span>
<span class="fc" id="L233">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/dr_summary/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L234">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;getDrSummary&quot;);</span>
<span class="fc bfc" id="L235" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L236">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L237">    }</span>
<span class="fc" id="L238">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L239" title="1 of 2 branches missed.">    if (getDrSummaryOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L240">      builder.header(&quot;Accept-Language&quot;, getDrSummaryOptions.acceptLanguage());</span>
    }
<span class="fc" id="L242">    ResponseConverter&lt;DrAutomationGetSummaryResponse&gt; responseConverter =</span>
<span class="fc" id="L243">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;DrAutomationGetSummaryResponse&gt;() { }.getType());</span>
<span class="fc" id="L244">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * Get MachineTypes based on selected workspaces.
   *
   * Retrieves the list of supported machine types for the given workspace. This endpoint is used to identify machine
   * types available for disaster recovery automation.
   *
   * @param getMachineTypeOptions the {@link GetMachineTypeOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link MachineTypesByWorkspace}
   */
  public ServiceCall&lt;MachineTypesByWorkspace&gt; getMachineType(GetMachineTypeOptions getMachineTypeOptions) {
<span class="fc" id="L257">    com.ibm.cloud.sdk.core.util.Validator.notNull(getMachineTypeOptions,</span>
      &quot;getMachineTypeOptions cannot be null&quot;);
<span class="fc" id="L259">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L260">    pathParamsMap.put(&quot;instance_id&quot;, getMachineTypeOptions.instanceId());</span>
<span class="fc" id="L261">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/machinetypes/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L262">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;getMachineType&quot;);</span>
<span class="fc bfc" id="L263" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L264">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L265">    }</span>
<span class="fc" id="L266">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L267" title="1 of 2 branches missed.">    if (getMachineTypeOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L268">      builder.header(&quot;Accept-Language&quot;, getMachineTypeOptions.acceptLanguage());</span>
    }
<span class="fc" id="L270">    builder.query(&quot;primary_workspace_name&quot;, String.valueOf(getMachineTypeOptions.primaryWorkspaceName()));</span>
<span class="pc bpc" id="L271" title="1 of 2 branches missed.">    if (getMachineTypeOptions.standbyWorkspaceName() != null) {</span>
<span class="fc" id="L272">      builder.query(&quot;standby_workspace_name&quot;, String.valueOf(getMachineTypeOptions.standbyWorkspaceName()));</span>
    }
<span class="fc" id="L274">    ResponseConverter&lt;MachineTypesByWorkspace&gt; responseConverter =</span>
<span class="fc" id="L275">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;MachineTypesByWorkspace&gt;() { }.getType());</span>
<span class="fc" id="L276">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * List of primary and standby powervs workspaces.
   *
   * Retrieves the power virtual server workspaces for primary and standby orchestrator based on location id.
   *
   * @param getPowervsWorkspacesOptions the {@link GetPowervsWorkspacesOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link DrData}
   */
  public ServiceCall&lt;DrData&gt; getPowervsWorkspaces(GetPowervsWorkspacesOptions getPowervsWorkspacesOptions) {
<span class="fc" id="L288">    com.ibm.cloud.sdk.core.util.Validator.notNull(getPowervsWorkspacesOptions,</span>
      &quot;getPowervsWorkspacesOptions cannot be null&quot;);
<span class="fc" id="L290">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L291">    pathParamsMap.put(&quot;instance_id&quot;, getPowervsWorkspacesOptions.instanceId());</span>
<span class="fc" id="L292">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/powervs_workspaces/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L293">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;getPowervsWorkspaces&quot;);</span>
<span class="fc bfc" id="L294" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L295">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L296">    }</span>
<span class="fc" id="L297">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="fc" id="L298">    builder.query(&quot;location_id&quot;, String.valueOf(getPowervsWorkspacesOptions.locationId()));</span>
<span class="fc" id="L299">    ResponseConverter&lt;DrData&gt; responseConverter =</span>
<span class="fc" id="L300">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;DrData&gt;() { }.getType());</span>
<span class="fc" id="L301">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * Create DR Deployment.
   *
   * Creates DR Deployment by creating Orchestrator instance in the given PowerVS workspace and configuration.
   * Orchestrator instance can be used to manage multiple virtual servers and ensure continuous availability. For more
   * details, refer Deploying the Orchestrator -
   * https://cloud.ibm.com/docs/dr-automation-powervs?topic=dr-automation-powervs-idep-the-orch.
   *
   * @param createManageDrOptions the {@link CreateManageDrOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link ServiceInstanceManageDR}
   */
  public ServiceCall&lt;ServiceInstanceManageDR&gt; createManageDr(CreateManageDrOptions createManageDrOptions) {
<span class="fc" id="L316">    com.ibm.cloud.sdk.core.util.Validator.notNull(createManageDrOptions,</span>
      &quot;createManageDrOptions cannot be null&quot;);
<span class="fc" id="L318">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L319">    pathParamsMap.put(&quot;instance_id&quot;, createManageDrOptions.instanceId());</span>
<span class="fc" id="L320">    RequestBuilder builder = RequestBuilder.post(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/manage_dr/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L321">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;createManageDr&quot;);</span>
<span class="fc bfc" id="L322" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L323">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L324">    }</span>
<span class="fc" id="L325">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L326" title="1 of 2 branches missed.">    if (createManageDrOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L327">      builder.header(&quot;Accept-Language&quot;, createManageDrOptions.acceptLanguage());</span>
    }
<span class="pc bpc" id="L329" title="1 of 2 branches missed.">    if (createManageDrOptions.standByRedeploy() != null) {</span>
<span class="fc" id="L330">      builder.query(&quot;stand_by_redeploy&quot;, String.valueOf(createManageDrOptions.standByRedeploy()));</span>
    }
<span class="pc bpc" id="L332" title="1 of 2 branches missed.">    if (createManageDrOptions.acceptsIncomplete() != null) {</span>
<span class="fc" id="L333">      builder.query(&quot;accepts_incomplete&quot;, String.valueOf(createManageDrOptions.acceptsIncomplete()));</span>
    }
<span class="fc" id="L335">    final JsonObject contentJson = new JsonObject();</span>
<span class="fc" id="L336">    contentJson.addProperty(&quot;location_id&quot;, createManageDrOptions.locationId());</span>
<span class="fc" id="L337">    contentJson.addProperty(&quot;machine_type&quot;, createManageDrOptions.machineType());</span>
<span class="fc" id="L338">    contentJson.addProperty(&quot;orchestrator_location_type&quot;, createManageDrOptions.orchestratorLocationType());</span>
<span class="fc" id="L339">    contentJson.addProperty(&quot;orchestrator_name&quot;, createManageDrOptions.orchestratorName());</span>
<span class="fc" id="L340">    contentJson.addProperty(&quot;orchestrator_password&quot;, createManageDrOptions.orchestratorPassword());</span>
<span class="fc" id="L341">    contentJson.addProperty(&quot;orchestrator_workspace_id&quot;, createManageDrOptions.orchestratorWorkspaceId());</span>
<span class="pc bpc" id="L342" title="1 of 2 branches missed.">    if (createManageDrOptions.apiKey() != null) {</span>
<span class="fc" id="L343">      contentJson.addProperty(&quot;api_key&quot;, createManageDrOptions.apiKey());</span>
    }
<span class="pc bpc" id="L345" title="1 of 2 branches missed.">    if (createManageDrOptions.clientId() != null) {</span>
<span class="fc" id="L346">      contentJson.addProperty(&quot;client_id&quot;, createManageDrOptions.clientId());</span>
    }
<span class="pc bpc" id="L348" title="1 of 2 branches missed.">    if (createManageDrOptions.clientSecret() != null) {</span>
<span class="fc" id="L349">      contentJson.addProperty(&quot;client_secret&quot;, createManageDrOptions.clientSecret());</span>
    }
<span class="pc bpc" id="L351" title="1 of 2 branches missed.">    if (createManageDrOptions.guid() != null) {</span>
<span class="fc" id="L352">      contentJson.addProperty(&quot;guid&quot;, createManageDrOptions.guid());</span>
    }
<span class="pc bpc" id="L354" title="1 of 2 branches missed.">    if (createManageDrOptions.orchestratorHa() != null) {</span>
<span class="fc" id="L355">      contentJson.addProperty(&quot;orchestrator_ha&quot;, createManageDrOptions.orchestratorHa());</span>
    }
<span class="pc bpc" id="L357" title="1 of 2 branches missed.">    if (createManageDrOptions.proxyIp() != null) {</span>
<span class="fc" id="L358">      contentJson.addProperty(&quot;proxy_ip&quot;, createManageDrOptions.proxyIp());</span>
    }
<span class="pc bpc" id="L360" title="1 of 2 branches missed.">    if (createManageDrOptions.regionId() != null) {</span>
<span class="fc" id="L361">      contentJson.addProperty(&quot;region_id&quot;, createManageDrOptions.regionId());</span>
    }
<span class="pc bpc" id="L363" title="1 of 2 branches missed.">    if (createManageDrOptions.resourceInstance() != null) {</span>
<span class="fc" id="L364">      contentJson.addProperty(&quot;resource_instance&quot;, createManageDrOptions.resourceInstance());</span>
    }
<span class="pc bpc" id="L366" title="1 of 2 branches missed.">    if (createManageDrOptions.secret() != null) {</span>
<span class="fc" id="L367">      contentJson.addProperty(&quot;secret&quot;, createManageDrOptions.secret());</span>
    }
<span class="pc bpc" id="L369" title="1 of 2 branches missed.">    if (createManageDrOptions.secretGroup() != null) {</span>
<span class="fc" id="L370">      contentJson.addProperty(&quot;secret_group&quot;, createManageDrOptions.secretGroup());</span>
    }
<span class="pc bpc" id="L372" title="1 of 2 branches missed.">    if (createManageDrOptions.sshKeyName() != null) {</span>
<span class="fc" id="L373">      contentJson.addProperty(&quot;ssh_key_name&quot;, createManageDrOptions.sshKeyName());</span>
    }
<span class="pc bpc" id="L375" title="1 of 2 branches missed.">    if (createManageDrOptions.standbyMachineType() != null) {</span>
<span class="fc" id="L376">      contentJson.addProperty(&quot;standby_machine_type&quot;, createManageDrOptions.standbyMachineType());</span>
    }
<span class="pc bpc" id="L378" title="1 of 2 branches missed.">    if (createManageDrOptions.standbyOrchestratorName() != null) {</span>
<span class="fc" id="L379">      contentJson.addProperty(&quot;standby_orchestrator_name&quot;, createManageDrOptions.standbyOrchestratorName());</span>
    }
<span class="pc bpc" id="L381" title="1 of 2 branches missed.">    if (createManageDrOptions.standbyOrchestratorWorkspaceId() != null) {</span>
<span class="fc" id="L382">      contentJson.addProperty(&quot;standby_orchestrator_workspace_id&quot;, createManageDrOptions.standbyOrchestratorWorkspaceId());</span>
    }
<span class="pc bpc" id="L384" title="1 of 2 branches missed.">    if (createManageDrOptions.standbyTier() != null) {</span>
<span class="fc" id="L385">      contentJson.addProperty(&quot;standby_tier&quot;, createManageDrOptions.standbyTier());</span>
    }
<span class="pc bpc" id="L387" title="1 of 2 branches missed.">    if (createManageDrOptions.tenantName() != null) {</span>
<span class="fc" id="L388">      contentJson.addProperty(&quot;tenant_name&quot;, createManageDrOptions.tenantName());</span>
    }
<span class="pc bpc" id="L390" title="1 of 2 branches missed.">    if (createManageDrOptions.tier() != null) {</span>
<span class="fc" id="L391">      contentJson.addProperty(&quot;tier&quot;, createManageDrOptions.tier());</span>
    }
<span class="fc" id="L393">    builder.bodyJson(contentJson);</span>
<span class="fc" id="L394">    ResponseConverter&lt;ServiceInstanceManageDR&gt; responseConverter =</span>
<span class="fc" id="L395">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;ServiceInstanceManageDR&gt;() { }.getType());</span>
<span class="fc" id="L396">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * View details of Last operation performed on the instance.
   *
   * Retrieves the status of the last operation performed on the specified service instance, such as provisioning,
   * updating, or deprovisioning.
   *
   * @param getLastOperationOptions the {@link GetLastOperationOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link ServiceInstanceStatus}
   */
  public ServiceCall&lt;ServiceInstanceStatus&gt; getLastOperation(GetLastOperationOptions getLastOperationOptions) {
<span class="fc" id="L409">    com.ibm.cloud.sdk.core.util.Validator.notNull(getLastOperationOptions,</span>
      &quot;getLastOperationOptions cannot be null&quot;);
<span class="fc" id="L411">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L412">    pathParamsMap.put(&quot;instance_id&quot;, getLastOperationOptions.instanceId());</span>
<span class="fc" id="L413">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/last_operation/{instance_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L414">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;getLastOperation&quot;);</span>
<span class="fc bfc" id="L415" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L416">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L417">    }</span>
<span class="fc" id="L418">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L419" title="1 of 2 branches missed.">    if (getLastOperationOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L420">      builder.header(&quot;Accept-Language&quot;, getLastOperationOptions.acceptLanguage());</span>
    }
<span class="fc" id="L422">    ResponseConverter&lt;ServiceInstanceStatus&gt; responseConverter =</span>
<span class="fc" id="L423">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;ServiceInstanceStatus&gt;() { }.getType());</span>
<span class="fc" id="L424">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * Get events from the cloud instance since a specific timestamp.
   *
   * Retrieves the list of events from the specified service instance ID.
   *
   * @param listEventsOptions the {@link ListEventsOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link EventCollection}
   */
  public ServiceCall&lt;EventCollection&gt; listEvents(ListEventsOptions listEventsOptions) {
<span class="fc" id="L436">    com.ibm.cloud.sdk.core.util.Validator.notNull(listEventsOptions,</span>
      &quot;listEventsOptions cannot be null&quot;);
<span class="fc" id="L438">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L439">    pathParamsMap.put(&quot;instance_id&quot;, listEventsOptions.instanceId());</span>
<span class="fc" id="L440">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/service_instances/{instance_id}/events&quot;, pathParamsMap));</span>
<span class="fc" id="L441">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;listEvents&quot;);</span>
<span class="fc bfc" id="L442" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L443">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L444">    }</span>
<span class="fc" id="L445">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L446" title="1 of 2 branches missed.">    if (listEventsOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L447">      builder.header(&quot;Accept-Language&quot;, listEventsOptions.acceptLanguage());</span>
    }
<span class="pc bpc" id="L449" title="1 of 2 branches missed.">    if (listEventsOptions.time() != null) {</span>
<span class="fc" id="L450">      builder.query(&quot;time&quot;, String.valueOf(listEventsOptions.time()));</span>
    }
<span class="pc bpc" id="L452" title="1 of 2 branches missed.">    if (listEventsOptions.fromTime() != null) {</span>
<span class="fc" id="L453">      builder.query(&quot;from_time&quot;, String.valueOf(listEventsOptions.fromTime()));</span>
    }
<span class="pc bpc" id="L455" title="1 of 2 branches missed.">    if (listEventsOptions.toTime() != null) {</span>
<span class="fc" id="L456">      builder.query(&quot;to_time&quot;, String.valueOf(listEventsOptions.toTime()));</span>
    }
<span class="fc" id="L458">    ResponseConverter&lt;EventCollection&gt; responseConverter =</span>
<span class="fc" id="L459">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;EventCollection&gt;() { }.getType());</span>
<span class="fc" id="L460">    return createServiceCall(builder.build(), responseConverter);</span>
  }

  /**
   * Get a single event.
   *
   * Retrieves the details of a specific event for the given service instance provision ID.
   *
   * @param getEventOptions the {@link GetEventOptions} containing the options for the call
   * @return a {@link ServiceCall} with a result of type {@link Event}
   */
  public ServiceCall&lt;Event&gt; getEvent(GetEventOptions getEventOptions) {
<span class="fc" id="L472">    com.ibm.cloud.sdk.core.util.Validator.notNull(getEventOptions,</span>
      &quot;getEventOptions cannot be null&quot;);
<span class="fc" id="L474">    Map&lt;String, String&gt; pathParamsMap = new HashMap&lt;String, String&gt;();</span>
<span class="fc" id="L475">    pathParamsMap.put(&quot;instance_id&quot;, getEventOptions.instanceId());</span>
<span class="fc" id="L476">    pathParamsMap.put(&quot;event_id&quot;, getEventOptions.eventId());</span>
<span class="fc" id="L477">    RequestBuilder builder = RequestBuilder.get(RequestBuilder.resolveRequestUrl(getServiceUrl(), &quot;/drautomation/v1/service_instances/{instance_id}/events/{event_id}&quot;, pathParamsMap));</span>
<span class="fc" id="L478">    Map&lt;String, String&gt; sdkHeaders = SdkCommon.getSdkHeaders(&quot;dr_automation_service&quot;, &quot;v1&quot;, &quot;getEvent&quot;);</span>
<span class="fc bfc" id="L479" title="All 2 branches covered.">    for (Entry&lt;String, String&gt; header : sdkHeaders.entrySet()) {</span>
<span class="fc" id="L480">      builder.header(header.getKey(), header.getValue());</span>
<span class="fc" id="L481">    }</span>
<span class="fc" id="L482">    builder.header(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="pc bpc" id="L483" title="1 of 2 branches missed.">    if (getEventOptions.acceptLanguage() != null) {</span>
<span class="fc" id="L484">      builder.header(&quot;Accept-Language&quot;, getEventOptions.acceptLanguage());</span>
    }
<span class="fc" id="L486">    ResponseConverter&lt;Event&gt; responseConverter =</span>
<span class="fc" id="L487">      ResponseConverterUtils.getValue(new com.google.gson.reflect.TypeToken&lt;Event&gt;() { }.getType());</span>
<span class="fc" id="L488">    return createServiceCall(builder.build(), responseConverter);</span>
  }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>